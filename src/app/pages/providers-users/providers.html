<div class="card p-4 gap-4">
    <!-- Service Buttons -->
    <div class="flex flex-wrap justify-around gap-2">
      <p-button *ngFor="let type of serviceTypes"
        [label]="type.label"
        [icon]="type.icon"
        (click)="loadProviders(type.value, 1)"
        [variant]="selectedService === type.value ? 'outlined' : undefined">
      </p-button>
    </div>
  
    <!-- Table -->
    <p-table #dt
      [value]="providers"
      [paginator]="true"
      [rows]="rows"
      [totalRecords]="totalRecords"
      [lazy]="true"
      [loading]="loading"
      (onPage)="onPageChange($event)"
      responsiveLayout="stack"
      [breakpoint]="'768px'"
      class="w-full mt-4">
  
      <!-- Header -->
      <ng-template pTemplate="header">
        <tr class="bg-gray-100">
          <th class="p-3 text-left">Name</th>
          <th class="p-3 text-left">Email</th>
          <th class="p-3 text-left">Account Type</th>
          <th class="p-3 text-left">Service Type</th>
          <th class="p-3 text-left">Documents</th>
        </tr>
      </ng-template>
  
      <!-- Body -->
      <ng-template pTemplate="body" let-provider>
        <tr class="border-b hover:bg-gray-50 md:table-row block md:border-none">
          <td class="p-3 flex justify-between md:table-cell" data-label="Name">
            <span class="md:hidden font-semibold text-gray-700">Name:</span>
            {{ provider.fullName }}
          </td>
          <td class="p-3 flex justify-between md:table-cell" data-label="Email">
            <span class="md:hidden font-semibold text-gray-700">Email:</span>
            {{ provider.email || 'N/A' }}
          </td>
          <td class="p-3 flex justify-between md:table-cell" data-label="Account Type">
            <span class="md:hidden font-semibold text-gray-700">Account Type:</span>
            {{ provider.accountType || 'N/A' }}
          </td>
          <td class="p-3 flex justify-between md:table-cell" data-label="Service Type">
            <span class="md:hidden font-semibold text-gray-700">Service Type:</span>
            {{ provider.serviceType || 'N/A' }}
          </td>
          <td class="p-3 flex justify-between md:table-cell" data-label="Documents">
            <span class="md:hidden font-semibold text-gray-700">Documents:</span>
            <p-button 
              icon="pi pi-info-circle" 
              [rounded]="true"
              (click)="showProviderDocuments(provider)" />
          </td>
        </tr>
      </ng-template>
    </p-table>
  <!-- Documents Dialog -->
<!-- Documents Dialog -->
<p-dialog 
  header="Document Preview" 
  [(visible)]="displayDocumentsDialog" 
  [modal]="true" 
  [style]="{width: '80vw', maxWidth: '1200px'}" 
  [closable]="true">
  
  <div class="space-y-6">
    @for (doc of documentsToShow; track doc.url) {
      <div class="border-b border-gray-200 pb-6 last:border-b-0">
        <!-- Document Title -->
        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <i class="pi pi-file text-blue-600"></i>
          {{ doc.title }}
        </h3>
        
        <!-- Document Image -->
        <div class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors duration-200">
          <img 
            [src]="doc.url" 
            alt="{{ doc.title }}" 
            class="w-full max-w-md mx-auto h-auto rounded-lg shadow-md cursor-pointer hover:shadow-lg transform hover:scale-105 transition-all duration-300"
            (click)="showImage(doc.url)" 
            loading="lazy" />
        </div>
      </div>
    }
  </div>
</p-dialog>
<!-- Single Image Dialog -->
<p-dialog 
header="Image Preview" 
[(visible)]="displayImageDialog" 
[modal]="true" 
[style]="{width: '50vw'}"
[closable]="true">

<img 
  [src]="selectedImageUrl" 
  alt="Selected" 
  class="w-full h-auto rounded shadow" />
</p-dialog>
